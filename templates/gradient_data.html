{% extends 'main.html' %}
{% block menu %}
    <center>
        <h1 style="color: black; margin-top: 2%; margin-bottom: 1%;"><b>Нейронная сеть</b></h1>
        {% if rsp.data == 1 %}
            {% if time - rsp.date >= 30 %}
                <div class="container" style="margin-top: 1%; margin-bottom: 1%">
                    <div class="row align-items-start">
                        <div class="col">
                            <div class="bg-image card shadow-1-strong"
                                 style="border-radius: 30px; border-width: 10px; border-color: black;background: #181a1e">
                                <div class="card-body" align="center">
                                    <h1 style="color: #e7a933"><b>Обучение можно запустить!</b></h1>
                                    <a class="navbar-brand" href="/gradient/start/" style="color: black">
                                        <button type="button" class="btn btn-primary"
                                                style="background: #28292d; color: #18d2cc; border-color: black;
                                         border-radius: 10px; border-width: 4px">
                                            <h5>Запустить обучение</h5>
                                        </button>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% else %}
                <div class="container" style="margin-top: 1%; margin-bottom: 1%">
                    <div class="row align-items-start">
                        <div class="col">
                            <div class="bg-image card shadow-1-strong"
                                 style="border-radius: 30px; border-width: 10px; border-color: black;background: #181a1e">
                                <div class="card-body" align="center">
                                    <h1 style="color: #e7a933"><b>Кто-то уже недавно запускал модель! Необходимо немного
                                        подождать</b></h1>
                                    <a class="navbar-brand" href="/gradient/data/" style="color: black">
                                        <button type="button" class="btn btn-primary"
                                                style="background: #28292d; color: #18d2cc; border-color: black;
                                         border-radius: 10px; border-width: 4px">
                                            <h5>Проверка очереди</h5>
                                        </button>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
            <div class="container" style="margin-top: 1%; margin-bottom: 1%">
                <div class="row align-items-start">
                    <div class="col">
                        <div class="bg-image card shadow-1-strong"
                             style="border-radius: 30px; border-width: 10px; border-color: black;background: #181a1e">
                            <div class="card-body" align="center">
                                <h1 style="color: #e7a933"><b>Результаты последнего обучения</b></h1>
                                <hr style="color: #d1dfff; border-width: 6px;">
                                <form>
                                    <table style="width: 100%; height: 100%">
                                        <thead>
                                        <th><h3 align="center" style="color: #4cafac;">Total area, m^2:</h3></th>
                                        <th><h3 align="center" style="color: #4cafac;">Distance to the center, km:</h3>
                                        </th>
                                        <th><h3 align="center" style="color: #4cafac;">Distance to the metro, min:</h3>
                                        </th>
                                        <th><h3 align="center" style="color: #4cafac;">Walking to the metro:</h3></th>
                                        <th><h3 align="center" style="color: #4cafac;">Real price, 1000$:</h3></th>
                                        <th><h3 align="center" style="color: #4cafac;">Predicted price, 1000$:</h3></th>
                                        <th><h3 align="center" style="color: #4cafac;">Error, 1000$:</h3></th>
                                        </thead>
                                        {% for i in data %}
                                            <tr>
                                                <td><h5 align="center" style="color: #e7a933;">{{ i.totsp }}</h5></td>
                                                <td><h5 align="center" style="color: #e7a933;">{{ i.dist }}</h5></td>
                                                <td><h5 align="center" style="color: #e7a933;">{{ i.metrdist }}</h5></td>
                                                {% if i.walk == 1 %}
                                                    <td><h5 align="center" style="color: #e7a933;">YES</h5></td>
                                                {% else %}
                                                    <td><h5 align="center" style="color: #e7a933;">NO</h5></td>
                                                {% endif %}
                                                <td><h5 align="center" style="color: #18e323;">{{ i.price }}</h5></td>
                                                <td><h5 align="center" style="color: #69ccc8;">{{ i.pred }}</h5></td>
                                                <td><h5 align="center" style="color: #d22b2b;">{{ i.error }}</h5></td>
                                            </tr>
                                        {% endfor %}
                                    </table>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% elif rsp.data == -1 %}
            <div class="container" style="margin-top: 1%; margin-bottom: 1%">
                <div class="row align-items-start">
                    <div class="col">
                        <div class="bg-image card shadow-1-strong"
                             style="border-radius: 30px; border-width: 10px; border-color: black;background: #181a1e">
                            <div class="card-body" align="center">
                                <h1 style="color: wheat"><b>Еще никто не пробовал запустить обучение! Стань первым!</b>
                                </h1>
                                <a class="navbar-brand" href="/gradient/start/" style="color: black">
                                    <button type="button" class="btn btn-primary"
                                            style="background: #28292d; color: #18d2cc; border-color: black;
                                         border-radius: 10px; border-width: 4px">
                                        <h5>Запустить обучение</h5>
                                    </button>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    </center>

{% endblock menu %}